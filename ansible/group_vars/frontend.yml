---
# Frontend-specific variables
# IPs are auto-generated by Terraform in terraform_generated.yml

# Containers to deploy on frontend
containers:
  - name: vote
    image: "{{ dockerhub_username }}/vote:{{ vote_image_tag }}"
    ports:
      - "80:80"
    environment:
      REDIS_HOST: "{{ redis_host }}"
      REDIS_PORT: "{{ redis_port }}"
    restart_policy: always

  - name: result
    image: "{{ dockerhub_username }}/result:{{ result_image_tag }}"
    ports:
      - "5001:80"
    environment:
      POSTGRES_HOST: "{{ postgres_host }}"
      POSTGRES_PORT: "{{ postgres_port }}"
      POSTGRES_USER: "{{ postgres_user }}"
      POSTGRES_PASSWORD: "{{ postgres_password }}"
      POSTGRES_DB: "{{ postgres_db }}"
    restart_policy: always
